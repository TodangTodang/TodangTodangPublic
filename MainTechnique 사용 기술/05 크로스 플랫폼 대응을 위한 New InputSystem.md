![header](https://capsule-render.vercel.app/api?type=cylinder&color=A1B6FF&height=150&section=header&text=New%20Input%20System&fontSize=60&fontColor=ECFBFF&animation=fadeIn)

<br>

## ê°œìš”

- í”„ë¡œì íŠ¸ì˜ íš¨ìœ¨ì„ ìœ„í•´ NewInputSystemì„ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ë””ë°”ì´ìŠ¤ì—ì„œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ í•¨
- NewInputSystemì„ í™œìš©í•˜ëŠ” ê³¼ì •ì—ì„œ UIì™€ ê´€ë ¨ëœ ë¬¸ì œì ì´ ì—¬ëŸ¬ ë¶€ë¶„ì—ì„œ ë°œìƒ

<br>

---

## New Input System í™œìš©

âš ï¸Â **ê¸°ìˆ  ë„ì… ë°°ê²½**

- ë³¸ë˜ ëª¨ë°”ì¼ì—ì„œë§Œ ê°œë°œí•˜ë ¤ë˜ í”„ë¡œì íŠ¸ë¥¼ PC í”Œë«í¼ì—ì„œë„ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ê¸°ë¡œ ê²°ì •í•˜ë©´ì„œ, ë©€í‹° í”Œë«í¼ ê°œë°œì— ìš©ì´í•œ New InputSystemì„ ì´ìš©

**ğŸ’¡ ê¸°ìˆ  ë„ì…ìœ¼ë¡œ ì–»ì€ ì´ì **

- ë¬¼ë¦¬ì  ì…ë ¥ì„ ì¶”ìƒì ì¸ ì…ë ¥ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ë©´ì„œ, ê°™ì€ í–‰ë™ì— ëŒ€í•´ì„œ ì…ë ¥ ì¶”ê°€ë¥¼ í†µí•´ ì¶”ê°€ì ì¸ ì‘ì—… ì—†ì´ ê°™ì€ í–‰ë™ì— ëŒ€í•´ ë‹¤ë¥¸ ì…ë ¥ì„ ì ìš© ê°€ëŠ¥

ğŸ’«Â **Input System êµ¬ì„±**

![InputAction](https://github.com/TodangTodang/TodangTodangPublic/assets/62470991/2604c808-2a2a-413c-b7a9-04f3f2415b05)

<br>

---

## New Input Systemì˜ í™œìš©ì— ë”°ë¥¸Â **ë¬¸ì œì  ë°œìƒ**

### í™œì„±í™” ì¤‘ì¸ UIì— ë”°ë¼ Inputì„ ì œì–´í•´ì•¼ í•˜ëŠ” ë¬¸ì œÂ 

### **âš ï¸Â ë¬¸ì œ**

- ì—¬ëŸ¬ UIì—ì„œ UI í™œì„± ì—¬ë¶€ì— ë”°ë¼ Inputì„ ì œì–´í•˜ê±°ë‚˜ Inputì— ë”°ë¥¸ ë™ì‘ì„ ë‹¤ë¥´ê²Œ ì‹¤í–‰í•´ì•¼ í•¨
    - ìš”ë¦¬í•˜ëŠ” ì¤‘ì— UIê°€ ë–  ìˆëŠ” ìƒí™©ì´ë¼ë©´ í”Œë ˆì´ì–´ ì›€ì§ì„ì´ë‚˜ ìƒí˜¸ì‘ìš© ë“±ì˜ Inputì´ ì‘ë™í•˜ë©´ ì•ˆ ë˜ëŠ” ìƒí™©
    - ì¿¡ë¶(ì¡°ë¦¬ë²•) UIë‚˜ ì¼ì‹œì •ì§€ UIê°€ ë–  ìˆëŠ” ìƒí™©ì´ë¼ë©´ í•´ë‹¹ UIë¥¼ í™œì„±/ë¹„í™œì„±í™” í•˜ëŠ” Inputë§Œ ë™ì‘í•˜ë„ë¡ ì„¤ì •í•´ì•¼ í•˜ëŠ” ìƒí™©
    - ìµœìƒìœ„ì— í™œì„±í™”ë˜ì–´ ìˆëŠ” UIì— ë”°ë¼ ê°™ì€ ì…ë ¥ì´ ë“¤ì–´ì˜¤ë”ë¼ë„ ì„œë¡œ ë‹¤ë¥¸ ì‹¤í–‰ì„ í•´ì•¼ í•˜ëŠ” ìƒí™©
- Playerì˜¤ë¸Œì íŠ¸ê°€ ì»´í¬ë„ŒíŠ¸ë¡œ ê°€ì§€ê³  ìˆëŠ” PlayerInputì„ UIê°€ ì°¸ì¡°í•˜ì—¬ ì œì–´í•˜ëŠ” ê²ƒì´ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ êµ¬ì¡°
    - í”„ë¡œì íŠ¸ ì „ë°˜ì—ì„œ Sceneì´ ë¡œë“œ ë˜ë©´, ë‚´ë¶€ì ìœ¼ë¡œ Playerë¥¼ ìƒì„±í•˜ê³ , UIê°€ í•„ìš”í•œ ê²½ìš°ì— í•œí•´ì„œ UIë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ ìƒì„± ë° í˜¸ì¶œë˜ë„ë¡ êµ¬ì¡°ê°€ ì§œì—¬ì ¸ ìˆìŒ.
    
    â†’ ë”°ë¼ì„œ ë¯¸ë¦¬ Inspector ì°½ì—ì„œ ì°¸ì¡°í•˜ë„ë¡ ì—°ê²°ì‹œì¼œë‘˜ ìˆ˜ ì—†ëŠ” ìƒí™©
    

### **ğŸ› ï¸ ê³¼ì •**

- FindObjectWithTag()ë©”ì„œë“œë¥¼ í™œìš©í•´ì„œ íƒœê·¸ë¥¼ í†µí•´ í”Œë ˆì´ì–´ë¥¼ ê²€ìƒ‰í•œ í›„ PlayerInput ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ì•„ì„œÂ **UIì—ì„œ ì§ì ‘ Inputì„ ì œì–´í•˜ëŠ” ë°©ì‹**
    - ì—¬ëŸ¬ UI ìŠ¤í¬ë¦½íŠ¸ì—ì„œ PlayerInput ì»´í¬ë„ŒíŠ¸ë¥¼ ì§ì ‘ ì°¾ì•„ì„œ ì œì–´í•˜ëŠ” ê²ƒì´ UI ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­í• ì—ì„œ ë²—ì–´ë‚œë‹¤ê³  íŒë‹¨
    - UI ìŠ¤í¬ë¦½íŠ¸ê°€ UIì™€ ê´€ë ¨ëœ ì—­í• ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì§€ ëª»í•œë‹¤ëŠ” ë¬¸ì œ
- UIë“¤ì€ UIManagerë¥¼ í†µí•´ì„œ ì°¸ì¡° ê°€ëŠ¥í•œ ìƒí™©ì´ë¯€ë¡œ, UIë“¤ì´ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ë„ë¡ í•˜ê³ , í•´ë‹¹ ì´ë²¤íŠ¸ì— ì½œë°± ë©”ì„œë“œë¥¼ PlayerInputì—ì„œ ì—°ê²°í•˜ëŠ” ë°©ë²•
    - UIManagerì—ì„œ ëª¨ë“  UIê°€ í™œì„±í™”ë  ë•Œ Dictionaryì— UIë“¤ì„ ì €ì¥í•˜ë„ë¡ ë˜ì–´ ìˆê³ , UIManagerì˜ ë©”ì„œë“œë¥¼ í†µí•´ì„œ í™œì„±í™”ëœ UIì— ì ‘ê·¼ì´ ê°€ëŠ¥í•¨
        
        â†’ UIê°€ í™œì„± / ë¹„í™œì„±í™” ë  ë•Œ UIë¥¼ ì²´í¬í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œì„œ ì¸í’‹ ì œì–´ ë©”ì„œë“œê°€ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ë²• ìƒê°
        
    - í•˜ì§€ë§Œ PlayerInput í´ë˜ìŠ¤ëŠ” ìœ ì € ì…ë ¥ê³¼ ê´€ë ¨ëœ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì¸ë°, UIë¥¼ ê°™ì´ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ì½”ë“œ ê²°í•©ë„ë¥¼ ë†’ì´ëŠ” ë‚˜ìœ ìš”ì†Œë¼ê³  íŒë‹¨.

### **ğŸ’¡ ì„ íƒ**Â ë° ê²°ê³¼

- GameSceneUIInputControllerë¼ëŠ” í´ë˜ìŠ¤ ìƒì„±
    
    â†’ UIì— Inputì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë¥¼ ì—°ê²°ì‹œí‚¤ë„ë¡ ì—­í• ì„ ë¶„ë¦¬
    
- ê´€ë ¨ ì½”ë“œ
    
    ```cs
    private void AddCallbacks()
        {
            _pausePanel.OnUIOpen += (() => PauseCallback(true));
            _pausePanel.OnUIClose += (() => PauseCallback(false));
    
            _cookBook.OnUIOpen += (() => CookBookCallback(true));
            _cookBook.OnUIClose += (() => CookBookCallback(false));
    
            _resultPanel.OnUIOpen += (() => _input.EnableInput(false));
    
            _ingredientBox.OnUIOpen += (() => _input.EnableInput(false));
            _ingredientBox.OnUIClose += (() => _input.EnableInput(true));
    
            _input.GameActions.Pause.performed += TogglePausePanel;
            _input.GameActions.CookBook.performed += ToggleCookBook;
    
            #region Ensure Deactivating UI
            _pausePanel.gameObject.SetActive(false);
            _cookBook.gameObject.SetActive(false);
            _resultPanel.gameObject.SetActive(false);
            _ingredientBox.gameObject.SetActive(false);
            #endregion
        }
    ```
    
    - GameSceneUIInputControllerì—ì„œ ì´ë²¤íŠ¸ì— Callbackì„ ì—°ê²°í•˜ëŠ” ë©”ì„œë“œ
 
  <br>
    
    ```cs
    private void Init()
    {
        _uiManager = UIManager.Instance;
        _gameManager = GameManager.Instance;
    
        Debug.Assert(_uiManager != null, "Null Exception : UIManager");
        Debug.Assert(_gameManager != null, "Null Exception : GameManager");
    
        _gameSceneUIInputController = new GameSceneUIInputController(this);
    
        EnableInput(true);
        _gameManager.ActivateEscapeInput(false);
    }
    ```
    
    - PlayerInputì—ì„œ GameSceneUIInputController ê°ì²´ ìƒì„± ë¶€ë¶„

<br>

---

## ê°œì„ ì  ìƒê°í•˜ê¸°

### **ì•„ì‰¬ìš´ ì **

- ì²˜ìŒ ì„¤ê³„í•  ë‹¹ì‹œ Inputì´ í”Œë ˆì´ì–´ê°€ ìš”ë¦¬ ë° ì›€ì§ì„ì— ì“°ì´ëŠ” ê²ƒìœ¼ë¡œ ê¸°íšë˜ì–´ Playerì—ê²Œ ì¢…ì† 
- í”„ë¡œì íŠ¸Â **í›„ë°˜ë¶€ì— ìƒˆë¡œìš´ Inputê³¼ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ì¶”ê°€ë¡œ Input ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§**
- ì²˜ìŒì— Inputì„ í™œì„±í™”/ë¹„í™œì„±í™” í•  ë•Œ InputSystem ë‚´InputActionì„ ì§ì ‘ í™œì„±í™”, ë¹„í™œì„±í™”í•˜ëŠ” êµ¬ì¡°
  ì´ì— ë”°ë¼ Inputì´ ë¹„í™œì„±í™” ë˜ì–´ì•¼í•  ìƒí™©ì— í™œì„±í™”ê°€ ë˜ëŠ” ë¬¸ì œ ë°œìƒ
    - InputSystemì„ ì œì–´í•˜ëŠ” ë©”ì„œë“œë¥¼ í†µì¼ì‹œí‚¤ê³ , ì™¸ë¶€ì—ì„œ ì œì–´ ì¤‘ì¸ InputActionì„ HashSetì— ì €ì¥í•˜ì—¬ ì „ì²´ì ì¸ InputSystemì´ í™œì„±í™”/ë¹„í™œì„±í™” ë  ë•Œ ì œì–´ ì¤‘ì¸ InputActionì— ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡ êµ¬ì¡°ë¥¼ ë³€ê²½í•¨
    - í•˜ì§€ë§Œ Inputì˜ í†µì œë¥¼ ë” í° í‹€ì—ì„œ, ì¼ê´€ì„± ìˆê²Œ Input í†µì œ ìƒíƒœë¥¼ ê´€ë¦¬í•  í•„ìš”ì„±ì„ ëŠë‚Œ

<br>

### **ê°œì„  ë°©ì•ˆ**

- Input Systemì´ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•˜ê³ , ì—¬ëŸ¬ ì”¬ì—ì„œ ì ‘ê·¼í•´ì„œ í†µì œí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë˜ì—ˆì„ ë•ŒëŠ”Â **Inputì„ ì „ì²´ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë§¤ë‹ˆì € í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒ**ë„ ì¢‹ì€ ë°©ì•ˆì´ì—ˆì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°.

<br>

---

## ì£¼ìš” ë©”ì„œë“œ

### PlayerInput

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| EnableInput | InputSystem assetì „ì²´ë¥¼ í™œì„±/ë¹„í™œì„±í™” í•˜ëŠ” ê¸°ëŠ¥ |
| ControlInput | InputSystemë‚´ì—ì„œ íŠ¹ì •í•œ InpuyActionë§Œì„ í™œì„±/ë¹„í™œì„±í™” í•˜ëŠ” ê¸°ëŠ¥ |
| IsMouseOverUIButton | ë§ˆìš°ìŠ¤ ì»¤ì„œì˜ ìœ„ì¹˜ì— ë”°ë¼ í”Œë ˆì´ì–´ì˜ ì¸í’‹ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ boolê°’ì„ ë°˜í™˜í•˜ëŠ” ê¸°ëŠ¥ |

<br>

### GameSceneUIInputController

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| AddCallbacks | UI ë° InputActionì— ì½œë°± ë©”ì„œë“œë¥¼ ì—°ê²°í•˜ëŠ” ê¸°ëŠ¥ |
| TogglePausePanel | ESC í‚¤ì˜ ì…ë ¥ì´ ë“¤ì–´ì™”ì„ ë•Œ, ìƒí™©ì— ë”°ë¼ ì¼ì‹œì •ì§€ UIë¥¼ ë„ì›Œì£¼ê±°ë‚˜ ë‹«ì•„ì£¼ëŠ” ê¸°ëŠ¥ |
| ToggleCookBook | TAB í‚¤ì˜ ì…ë ¥ì´ ë“¤ì–´ì™”ì„ ë•Œ, ìƒí™©ì— ë”°ë¼ ì¿¡ë¶(ì¡°ë¦¬ë²•) UIë¥¼ ë„ì›Œì£¼ê±°ë‚˜ ë‹«ì•„ì£¼ëŠ” ê¸°ëŠ¥ |
| PauseCallback | ì¼ì‹œì •ì§€ UIê°€ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì— ë”°ë¼ Inputì´ ì œì–´ë  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” Callback ë©”ì„œë“œ |
| CookBookCallback | ì¿¡ë¶(ì¡°ë¦¬ë²•) UIê°€ ì—´ë¦¬ê±°ë‚˜ ë‹«í ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì— ë”°ë¼ Inputì´ ì œì–´ë  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” Callback ë©”ì„œë“œ |


<br><br>


#### [ğŸ° ìƒì„¸ì½”ë“œ ë³´ê¸° ğŸ°](https://github.com/szlovelee/TodangCodes-LHJ/tree/main/NewInputSystem%EA%B3%BC%20UI%20%EB%8C%80%EC%9D%91)

#### [ğŸŒ™ Main READMEë¡œ ëŒì•„ê°€ê¸° ğŸŒ™](/README.md)

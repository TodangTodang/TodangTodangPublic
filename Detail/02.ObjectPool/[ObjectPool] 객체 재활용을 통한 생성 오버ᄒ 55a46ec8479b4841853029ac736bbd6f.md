# [ObjectPool] ê°ì²´ ì¬í™œìš©ì„ í†µí•œ ìƒì„± ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì´ì

## ğŸ° ê°œìš”

- PoolManagerë¥¼ í†µí•´ ì˜¤ë¸Œì íŠ¸ í’€ë§ì„ ê°„í¸í•˜ê²Œ í•œë‹¤.
- ì˜¤ë¸Œì íŠ¸ í’€ë§ì„ í†µí•´ ì˜¤ë¸Œì íŠ¸ ìƒì„±/íŒŒê´´ ë¹„ìš©ì„ ì¤„ì¸ë‹¤.

---

## ğŸ‡ ê¸°ìˆ  ë„ì… ë°°ê²½

> ë¬¸ì œì 
> 
> 
> ì¸ë²¤í† ë¦¬ì—ì„œ íƒ­ì„ ë°”ê¾¸ëŠ” ë™ì‘ì€ ë§¤ìš° ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤.
> 
> ì´ ê³¼ì •ì—ì„œ ìŠ¬ë¡¯ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§¤ë²ˆ ìƒì„±/íŒŒê´´í•˜ë©´ ë¹„ìš©ì´ ë§¤ìš° ë§ì´ ë“¤ì–´ CPU ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.
> 
> ì¸ë²¤í† ë¦¬ ë¿ë§Œ ì•„ë‹ˆë¼ ìš”ë¦¬ ê³¼ì •ì—ì„œë„ ì¬ë£Œ, ì¤‘ê°„ ê²°ê³¼ë¬¼, ì™„ì„±ëœ ìŒì‹ Prefabë“¤ì´ ë§¤ë²ˆ ìƒì„±/íŒŒê´´ë˜ëŠ” ë™ì‘ì´ ìì£¼ ë°œìƒí•˜ì—¬ ì„±ëŠ¥ ì €í•˜ê°€ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤.
> 
- ì˜¤ë¸Œì íŠ¸ì˜ ìƒì„±/íŒŒê´´ ë¹„ìš©ê³¼ ì˜¤ë¸Œì íŠ¸ í’€ ìƒì„±ì— ì†Œëª¨ë˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ ê³ ë ¤í–ˆì„ ë•Œ, ì˜¤ë¸Œì íŠ¸ í’€ì„ í™œìš©í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ë¼ê³  íŒë‹¨í•˜ì—¬ í•´ë‹¹ ê¸°ìˆ ì„ ë„ì…í•˜ì˜€ë‹¤.
- ì˜¤ë¸Œì íŠ¸ í’€ì„ ìƒì„±í•  ë•Œ Queueì˜ ì´ˆê¸° ì‚¬ì´ì¦ˆë¥¼ ì§€ì •í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ë†’ì´ê³ ì í•˜ì˜€ë‹¤.

---

## ğŸ¡ ì£¼ìš” ë©”ì„œë“œ

### ResourceManager

| ë©”ì„œë“œ | ê¸°ëŠ¥ |
| --- | --- |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/ResourceManager.cs#L30-L65 | Resources í´ë”ì—ì„œ í•´ë‹¹ Prefabì„ Loadí•œë‹¤.í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ì— Poolable ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤ë©´ PoolManagerì—ê²Œ ì˜¤ë¸Œì íŠ¸ Popì„ ìš”ì²­í•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/ResourceManager.cs#L67-L80 | ê²Œì„ ì˜¤ë¸Œì íŠ¸ë¥¼ Destroyí•œë‹¤.í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ê°€ Poolable ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ PoolManagerì—ê²Œ ì˜¤ë¸Œì íŠ¸ Pushë¥¼ ìš”ì²­í•œë‹¤. |

### PoolManager

| ë©”ì„œë“œ | ê¸°ëŠ¥ |
| --- | --- |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/PoolManager.cs#L9-L18 | ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ í’€ì„ ìƒì„±í•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/PoolManager.cs#L20-L33 | ì˜¤ë¸Œì íŠ¸ í’€ Dictionaryì— ìš”ì²­ ë°›ì€ ì˜¤ë¸Œì íŠ¸ì˜ í’€ì´ ìˆë‹¤ë©´ í•´ë‹¹ í’€ì— ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ëŠ”ë‹¤.í’€ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì˜¤ë¸Œì íŠ¸ì¼ ê²½ìš° Destroyí•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/PoolManager.cs#L35-L43 | ì˜¤ë¸Œì íŠ¸ í’€ Dictionaryì— ìš”ì²­ ë°›ì€ ì˜¤ë¸Œì íŠ¸ë¥¼ Popí•˜ì—¬ ë°˜í™˜í•œë‹¤.í’€ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì˜¤ë¸Œì íŠ¸ë¼ë©´ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ì˜ í’€ì„ ìƒˆë¡œ ìƒì„±í•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/PoolManager.cs#L45-L48 | í˜„ì¬ ê´€ë¦¬ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ í’€ Dictionaryë¥¼ Clearí•œë‹¤.Sceneì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ Destroy ë˜ì–´ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. |

### Pool

| ë©”ì„œë“œ | ê¸°ëŠ¥ |
| --- | --- |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/Pool.cs#L12-L22 | ì²˜ìŒ í’€ì´ ìƒì„±ë˜ì—ˆì„ ë•Œ í•´ë‹¹ í’€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸, í’€ì˜ ë£¨íŠ¸ Transformì„ ì„¤ì •í•œë‹¤.ê¸°ë³¸ì ìœ¼ë¡œ 3ê°œì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/Pool.cs#L24-L31 | Init ë©”ì„œë“œì—ì„œ ì„¤ì •í•œ í•´ë‹¹ í’€ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/Pool.cs#L33-L43 | í’€ì— ì˜¤ë¸Œì íŠ¸ë¥¼ ë„£ëŠ”ë‹¤.í’€ì˜ ë£¨íŠ¸ë¥¼ Parentë¡œ ì„¤ì •í•œ ë’¤, í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¹„í™œì„±í™”í•˜ê³  íì— ë„£ëŠ”ë‹¤. |
| https://github.com/j-miiin/TodangTodangCodes/blob/8743167cc63b3244252e8718c75dec9b9c05d51e/Object%20Pooling/Pool.cs#L45-L64 | í’€ì—ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ êº¼ë‚¸ë‹¤.ì§€ì •ëœ Parentê°€ ìˆë‹¤ë©´ í•´ë‹¹ Transformì„ Parentë¡œ ì„¤ì •í•œ ë’¤ ì˜¤ë¸Œì íŠ¸ë¥¼ í™œì„±í™”í•œë‹¤.ì§€ì •ëœ Parentê°€ ì—†ì„ ê²½ìš° í˜„ì¬ í’€ì˜ ë£¨íŠ¸ë¥¼ Parentë¡œ ì„¤ì •í•œë‹¤.íì— ì˜¤ë¸Œì íŠ¸ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë¥¼ êº¼ë‚´ê³ , ì—†ë‹¤ë©´ Create ë©”ì„œë“œë¡œ ìƒì„±í•œë‹¤. |

[ğŸŒ™ ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](https://github.com/j-miiin/TodangTodangCodes/tree/main/Object%20Pooling#crescent_moon-%EB%AA%A9%EC%B0%A8)

---

## ğŸµ í™œìš©

### ì˜¤ë¸Œì íŠ¸ í’€ë§ í™œìš©í•˜ê¸°

1. í’€ë§ì„ í•  ì˜¤ë¸Œì íŠ¸ì— Poolable ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ ì¶”ê°€í•œë‹¤.
    
    ![https://private-user-images.githubusercontent.com/62470991/289023692-5bea7661-4b63-47fe-aabb-36191912e548.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDI0NzA1NjQsIm5iZiI6MTcwMjQ3MDI2NCwicGF0aCI6Ii82MjQ3MDk5MS8yODkwMjM2OTItNWJlYTc2NjEtNGI2My00N2ZlLWFhYmItMzYxOTE5MTJlNTQ4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjEzVDEyMjQyNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTUxM2QxNmI0ZTMyNmY2MTg2N2Y5ZDE5Njg5ZjYyY2RlODI2ODA0NzgyNGY5NTNhOWFmY2E2YWE0NTllMWY2MzkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.I_gKh6yrPCmEyKAJ1oGSnMhTbibrzWeTROAloB88CIw](https://private-user-images.githubusercontent.com/62470991/289023692-5bea7661-4b63-47fe-aabb-36191912e548.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDI0NzA1NjQsIm5iZiI6MTcwMjQ3MDI2NCwicGF0aCI6Ii82MjQ3MDk5MS8yODkwMjM2OTItNWJlYTc2NjEtNGI2My00N2ZlLWFhYmItMzYxOTE5MTJlNTQ4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjEzVDEyMjQyNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTUxM2QxNmI0ZTMyNmY2MTg2N2Y5ZDE5Njg5ZjYyY2RlODI2ODA0NzgyNGY5NTNhOWFmY2E2YWE0NTllMWY2MzkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.I_gKh6yrPCmEyKAJ1oGSnMhTbibrzWeTROAloB88CIw)
    
2. í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±/íŒŒê´´í•  ë•Œ ResourceManagerì˜ Instantiateì™€ Destroy ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.
    
    ```
    GameObject go = ResourceManager.Instance.Instantiate(Strings.Prefabs.UI_INVENTORY_SLOT, _scrollViewContainer);
    ResourceManager.Instance.Destroy(go);
    ```
    
    - ì¸ë²¤í† ë¦¬ ìŠ¬ë¡¯ì€ ScrollViewì˜ Content í•˜ìœ„ ì˜¤ë¸Œì íŠ¸ë¡œ ìƒì„±ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ë¶€ëª¨ë¥¼ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

[ğŸŒ™ ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](https://github.com/j-miiin/TodangTodangCodes/tree/main/Object%20Pooling#crescent_moon-%EB%AA%A9%EC%B0%A8)